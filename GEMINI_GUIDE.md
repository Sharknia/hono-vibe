### 🔲 Stage 6: 최종 코드 개선 (TDD)
- [x] **Task 4: `User` 엔티티 캡슐화**
    - [x] Sub-task 4.1: `User` 엔티티에 `toProfile()` 메서드 테스트 작성
    - [x] Sub-task 4.2: `User` 엔티티에 `toProfile()` 메서드 구현
    - [x] Sub-task 4.3: `user.routes.ts`에서 `toProfile()`을 사용하도록 수정 및 테스트 통과 확인
    - [x] Sub-task 4.4: 변경사항 커밋/푸시
- [ ] **Task 5: `authMiddleware` 리팩토링**
    - [ ] Sub-task 5.1: `authMiddleware`가 `UnauthorizedError`를 던지도록 테스트 수정
    - [ ] Sub-task 5.2: `authMiddleware`가 에러 발생 시 `UnauthorizedError`를 던지도록 수정
    - [ ] Sub-task 5.3: 테스트 통과 확인 및 커밋/푸시